@plugin "tailwindcss-animate";
@import "tailwindcss";

@custom-variant dark (&:is(.dark *));

/* Fondo global */
body.gestularia-theme {
  background:
    radial-gradient(1200px 600px at 10% -10%, rgba(74, 144, 226, 0.15), transparent 60%),
    radial-gradient(900px 500px at 90% 10%, rgba(80, 227, 194, 0.1), transparent 60%),
    linear-gradient(180deg, #090e1b, #0D1222 40%, #0a0f1e);
  background-color: #0D1222;
}

/* --- CORRECCIÓN: Permitir scroll nativo --- */
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  /* overflow: hidden; <--- ESTA ERA LA LÍNEA QUE BLOQUEABA EL SCROLL EN MÓVIL */
  overflow-x: hidden; /* Solo evitamos el scroll lateral */
  scroll-behavior: smooth;
}

/* --- MODO APP (Editor) --- */
/* Estas clases se usan dentro del editor para controlar su propio scroll */
@layer utilities {
  :root {
    --navbar-height: 64px;
  }

  .app-scroll-container {
    width: 100%;
    position: absolute;
    top: 0;
    height: 100%;
    overflow-y: auto;
    overflow-x: hidden;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    scroll-padding-top: 80px;
    touch-action: pan-y;
    scrollbar-gutter: stable both-edges;
  }

  /* Scrollbar Minimalista Premium (Global y Editor) */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: rgba(156, 163, 175, 0.5); /* Slate-400 con transparencia */
    border-radius: 10px;
  }
  
  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: rgba(100, 116, 139, 0.8); /* Slate-500 */
  }

  /* Utilidad para ocultar scrollbar pero permitir scroll (Estilo Móvil) */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* Optimización táctil */
@media (hover: none) {
  .hover\:scale-105:active,
  .hover\:-translate-y-1:active,
  .group:hover .group-hover\:translate-y-1 {
    transform: none !important;
    transition: none !important;
  }
}

/* ========================================
   EFECTOS PREMIUM
   ======================================== */

@supports (animation-timeline: view()) {
  .reveal-on-scroll {
    opacity: 0;
    transform: scale(0.9) translateY(40px);
    animation: reveal linear forwards;
    animation-timeline: view();
    animation-range: entry 10% cover 40%;
  }
}

@keyframes reveal {
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
  }
}

.scanline-card {
  position: relative;
  overflow: hidden;
  border-radius: 32px;
}

.scanline-card::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 50%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
  transform: skewX(-25deg);
  animation: shine 6s infinite;
  pointer-events: none;
  z-index: 10;
}

@keyframes shine {
  0% { left: -100%; }
  20% { left: 200%; }
  100% { left: 200%; }
}

.chat-bubble { animation: float 4s ease-in-out infinite; }
.credit-card-3d { transform-style: preserve-3d; animation: tilt 6s ease-in-out infinite; }

@keyframes float {
  0%, 100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}

@keyframes tilt {
  0%, 100% { transform: rotateY(0deg) rotateX(0deg); }
  50% { transform: rotateY(10deg) rotateX(5deg); }
}

@media (prefers-reduced-motion: reduce) {
  .reveal-on-scroll, .scanline-card::before, .chat-bubble, .credit-card-3d {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}